<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>VISTAGEOMATICS – HR</title>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="description" content="Vista Geomatics HR forms portal.">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --bg:#020509;
    --text:rgba(255,255,255,0.96);
    --muted:rgba(255,255,255,0.70);
    --stroke:rgba(255,255,255,0.12);
    --stroke2:rgba(255,255,255,0.06);
    --vista-blue:#1f9cf0;
    --vista-blue-dark:#005a9c;
    --shadow:0 30px 70px rgba(0,0,0,0.85);
  }

  *{ box-sizing:border-box; }
  html,body{ height:100%; }
  body{
    margin:0;
    font-family:"Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background:var(--bg);
    color:var(--text);
    overflow-x:hidden;
  }

  /* =========================
     VIDEO BACKGROUND (ONLY)
  ========================== */
  .bg-video{
    position:fixed;
    inset:0;
    z-index:0;
    overflow:hidden;
    background:#000;
  }
  .bg-video video{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    object-fit:cover;
    transform:scale(1.02);
    filter:saturate(1.02) contrast(1.03);
  }
  .bg-video::after{
    content:"";
    position:absolute;
    inset:0;
    pointer-events:none;
    background:
      radial-gradient(900px 520px at 50% 10%, rgba(31,156,240,0.10), transparent 62%),
      radial-gradient(900px 520px at 20% 90%, rgba(0,90,156,0.12), transparent 62%),
      linear-gradient(to bottom, rgba(0,0,0,0.35), rgba(0,0,0,0.80));
  }

  /* =========================
     INTRO / LOADING (MOBILE SAFE)
  ========================== */
  .intro{
    position:fixed;
    inset:0;
    z-index:9999;
    background:#000;
    min-height:100svh;
    display:grid;
    place-items:center;
    padding:
      env(safe-area-inset-top)
      env(safe-area-inset-right)
      env(safe-area-inset-bottom)
      env(safe-area-inset-left);
    overflow:hidden;
    transition:opacity .40s ease, visibility .40s ease;
  }
  .intro.hide{ opacity:0; visibility:hidden; }

  .intro::before{
    content:"";
    position:absolute;
    inset:-20%;
    background:
      radial-gradient(600px 260px at 50% 50%, rgba(31,156,240,0.22), transparent 65%),
      radial-gradient(520px 240px at 55% 55%, rgba(0,90,156,0.20), transparent 68%),
      radial-gradient(circle at 50% 50%, rgba(255,255,255,0.05), rgba(0,0,0,0.95));
    transform:scale(1.05);
    z-index:0;
  }

  .intro-title{
    position:relative;
    z-index:2;
    text-align:center;
    font-family:"Montserrat", sans-serif;
    text-transform:uppercase;
    letter-spacing:0.22em;
    font-size:clamp(1.9rem, 7vw, 4.8rem);
    line-height:1.05;
    white-space:nowrap;
    margin:0;
    padding:0 18px;
    text-shadow:0 18px 60px rgba(0,0,0,0.9);
    user-select:none;
  }
  .intro-title .vista{ font-weight:700; }
  .intro-title .geomatics{ font-weight:400; }

  .bars{
    position:absolute;
    inset:0;
    z-index:1;
    display:grid;
    grid-template-columns:repeat(12, 1fr);
    gap:10px;
    padding:0 28px;
    pointer-events:none;
  }
  @media (max-width: 520px){
    .bars{ gap:7px; padding:0 16px; }
  }
  .bar{
    height:100%;
    border-left:1px solid rgba(255,255,255,0.05);
    border-right:1px solid rgba(255,255,255,0.03);
    background:
      linear-gradient(180deg,
        rgba(31,156,240,0.22),
        rgba(0,90,156,0.14),
        rgba(0,0,0,0.86)
      );
    transform:translateY(0);
    will-change:transform;
  }
  .intro.wipe .bar{
    animation:barOut 0.95s cubic-bezier(.2,.85,.2,1) forwards;
    animation-delay:calc(var(--i) * 0.075s);
  }
  @keyframes barOut{ to{ transform:translateY(112%); } }

  /* =========================
     PAGE LAYOUT
  ========================== */
  .wrap{
    position:relative;
    z-index:1;
    min-height:100svh;
    display:grid;
    place-items:center;
    padding:24px;
  }

  /* OPTION B: darker semi-transparent glass */
  .card{
    width:min(920px, 100%);
    border-radius:28px;
    background: rgba(10,16,26,0.65);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border:1px solid rgba(255,255,255,0.12);
    box-shadow: var(--shadow);
    overflow:hidden;
  }

  .card-head{
    padding:22px 26px 16px;
    border-bottom:1px solid var(--stroke2);
    display:flex;
    align-items:flex-start;
    justify-content:space-between;
    gap:16px;
  }

  .brand{
    font-family:"Montserrat", sans-serif;
    text-transform:uppercase;
    letter-spacing:0.20em;
    display:inline-flex;
    gap:0;
    white-space:nowrap;
    font-size:1.05rem;
    line-height:1;
  }
  .brand .vista{ font-weight:700; }
  .brand .geomatics{ font-weight:400; }

  .subtitle{
    margin-top:10px;
    color:var(--muted);
    font-size:0.95rem;
    line-height:1.35;
  }

  .back-link{
    display:inline-flex;
    align-items:center;
    gap:10px;
    text-decoration:none;
    color:rgba(255,255,255,0.88);
    border:1px solid rgba(255,255,255,0.12);
    background:rgba(255,255,255,0.05);
    padding:10px 12px;
    border-radius:999px;
    letter-spacing:0.12em;
    text-transform:uppercase;
    font-size:0.78rem;
    transition:transform .18s ease, background .18s ease, border-color .18s ease;
    user-select:none;
    white-space:nowrap;
  }
  .back-link:hover{
    transform:translateY(-1px);
    background:rgba(255,255,255,0.07);
    border-color:rgba(255,255,255,0.18);
  }

  .card-body{ padding:18px 26px 22px; }

  .grid{
    display:grid;
    grid-template-columns:repeat(2, minmax(0, 1fr));
    gap:14px;
  }
  @media (max-width: 640px){
    .grid{ grid-template-columns:1fr; }
  }

  .btn{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:14px;
    padding:16px 16px;
    border-radius:18px;
    border:1px solid rgba(255,255,255,0.10);
    background:linear-gradient(120deg, rgba(31,156,240,0.92), rgba(0,90,156,0.92), rgba(31,156,240,0.92));
    background-size:200% 200%;
    color:#fff;
    text-decoration:none;
    font-weight:700;
    letter-spacing:0.12em;
    text-transform:uppercase;
    box-shadow:0 14px 30px rgba(0,0,0,0.70);
    transition: transform .18s ease, box-shadow .18s ease, background-position .25s ease, border-color .18s ease;
    min-height:62px;
  }
  .btn:hover{
    transform:translateY(-2px);
    box-shadow:0 22px 48px rgba(0,0,0,0.88);
    background-position:100% 0;
    border-color:rgba(255,255,255,0.16);
  }
  .btn .arrow{
    opacity:0.95;
    transform:translateX(0);
    transition:transform .18s ease;
    letter-spacing:0;
  }
  .btn:hover .arrow{ transform:translateX(2px); }

  .card-foot{
    padding:14px 26px 16px;
    border-top:1px solid var(--stroke2);
    display:flex;
    align-items:center;
    justify-content:space-between;
    flex-wrap:wrap;
    gap:10px;
    color:rgba(255,255,255,0.62);
    font-size:0.86rem;
  }
</style>
</head>

<body>

  <!-- Background video (keep hr-bg.mp4 in the same folder as hr.html) -->
  <div class="bg-video" aria-hidden="true">
    <video autoplay muted loop playsinline preload="auto">
      <source src="./hr-bg.mp4" type="video/mp4">
    </video>
  </div>

  <!-- Intro -->
  <div class="intro" id="intro" aria-label="Loading">
    <div class="bars" aria-hidden="true">
      <div class="bar" style="--i:0"></div><div class="bar" style="--i:1"></div><div class="bar" style="--i:2"></div><div class="bar" style="--i:3"></div>
      <div class="bar" style="--i:4"></div><div class="bar" style="--i:5"></div><div class="bar" style="--i:6"></div><div class="bar" style="--i:7"></div>
      <div class="bar" style="--i:8"></div><div class="bar" style="--i:9"></div><div class="bar" style="--i:10"></div><div class="bar" style="--i:11"></div>
    </div>

    <h1 class="intro-title" aria-label="VISTAGEOMATICS">
      <span class="vista">VISTA</span><span class="geomatics">GEOMATICS</span>
    </h1>
  </div>

  <!-- Content -->
  <main class="wrap">
    <section class="card" aria-label="HR Links">
      <header class="card-head">
        <div>
          <div class="brand" aria-label="VISTAGEOMATICS">
            <span class="vista">VISTA</span><span class="geomatics">GEOMATICS</span>
          </div>
          <div class="subtitle">HR forms and internal resources.</div>
        </div>

        <!-- Back to portal root (prevents 403) -->
        <a class="back-link" id="backLink" href="./">← Back</a>
      </header>

      <div class="card-body">
        <div class="grid">
          <!-- Restored original HR links -->
          <a class="btn" href="https://efederation.wip.ceridian.com/adfs/ls/?wtrealm=https%3A%2F%2Fiam.dayforce.com%2F&wa=wsignin1.0" target="_blank" rel="noopener">
            <span>Dayforce Login</span><span class="arrow">→</span>
          </a>

          <a class="btn" href="https://clients.powerpay.ca/selfservice/login" target="_blank" rel="noopener">
            <span>PowerPay Employee</span><span class="arrow">→</span>
          </a>

          <a class="btn" href="https://calendar.google.com/calendar/embed?src=0q7apur0ejg3ro1ujf680lfk%40group.calendar.google.com&ctz=America%2FEdmonton" target="_blank" rel="noopener">
            <span>Time Off Calendar</span><span class="arrow">→</span>
          </a>

          <a class="btn" href="https://vistageomatics.github.io/Mileage-Log/" target="_blank" rel="noopener">
            <span>Mileage Report</span><span class="arrow">→</span>
          </a>

          <a class="btn" href="https://vistageomatics.github.io/Expense-Report/" target="_blank" rel="noopener">
            <span>Expense Report</span><span class="arrow">→</span>
          </a>
        </div>
      </div>

      <footer class="card-foot">
        <div>Internal use only.</div>
        <div style="opacity:.65; letter-spacing:.10em; text-transform:uppercase; font-size:.82rem;">VISTAGEOMATICS</div>
      </footer>
    </section>
  </main>

<script>
  // Intro timing (fast, stylish). Bars move independently; title stays centered.
  (function(){
    const intro = document.getElementById("intro");
    if(!intro) return;

    const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    // Faster overall, still readable
    const wipeStart = prefersReduced ? 120 : 520;   // when bars start moving
    const hideAt    = prefersReduced ? 380 : 1150;  // when intro hides (after bar motion)

    setTimeout(() => intro.classList.add("wipe"), wipeStart);
    setTimeout(() => intro.classList.add("hide"), hideAt);

    // Safety fallback
    setTimeout(() => intro.classList.add("hide"), 2200);
  })();

  // Back button: if came from within portal, use history back; otherwise go to root.
  (function(){
    const a = document.getElementById("backLink");
    if(!a) return;

    a.addEventListener("click", function(e){
      try{
        const ref = document.referrer || "";
        const sameOrigin = ref.startsWith(location.origin);
        if(history.length > 1 && sameOrigin){
          e.preventDefault();
          history.back();
        }
      }catch(_){}
    });
  })();
</script>

</body>
</html>
